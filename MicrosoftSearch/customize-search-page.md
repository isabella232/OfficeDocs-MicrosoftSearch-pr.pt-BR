---
title: Personalizar a Pesquisa da Microsoft página
ms.author: jeffkizn
author: jypal
manager: jeffkizn
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Adicionar verticais de pesquisa e personalizar resultados de pesquisa
ms.openlocfilehash: 4dd3f08f6d7e3df0aa983684eb0d4f649bc409a1
ms.sourcegitcommit: 1e766e1f549c46882f47df6679f5a3cdf48d70d6
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/16/2021
ms.locfileid: "53463222"
---
# <a name="customize-the-search-results-page"></a><span data-ttu-id="2279d-103">Personalizar a página de resultados da pesquisa</span><span class="sxs-lookup"><span data-stu-id="2279d-103">Customize the search results page</span></span>

<span data-ttu-id="2279d-104">Você pode criar tipos de resultados e verticais de pesquisa para personalizar os resultados de pesquisa que os usuários veem quando pesquisam no Microsoft [SharePoint,](https://sharepoint.com/) [Microsoft Office](https://office.com)e Pesquisa da Microsoft em [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="2279d-104">You can create search verticals and result types to customize the search results that users see when they search in Microsoft [SharePoint](https://sharepoint.com/), [Microsoft Office](https://office.com), and Microsoft Search in [Bing](https://bing.com).</span></span> <span data-ttu-id="2279d-105">As verticais facilitam que os usuários encontrem as informações que eles têm permissão para ver.</span><span class="sxs-lookup"><span data-stu-id="2279d-105">Verticals make it easier for users to find the information that they have permission to see.</span></span> <span data-ttu-id="2279d-106">Por exemplo, você pode criar uma pesquisa vertical para dados de análise de marketing de software de terceiros para seus usuários no departamento de marketing.</span><span class="sxs-lookup"><span data-stu-id="2279d-106">For example, you could create a search vertical for marketing analysis data from third-party software for your users in the marketing department.</span></span> <span data-ttu-id="2279d-107">Você também pode definir tipos de resultados e personalizar o layout desses dados.</span><span class="sxs-lookup"><span data-stu-id="2279d-107">You can also define result types and customize the layout for this data.</span></span>  

<span data-ttu-id="2279d-108">Você pode criar tipos de resultados e verticais nesses níveis:</span><span class="sxs-lookup"><span data-stu-id="2279d-108">You can create verticals and result types at these levels:</span></span>

- <span data-ttu-id="2279d-109">**Nível da** organização – quando você adiciona uma vertical no nível da organização, ela aparece na página de resultados da pesquisa quando os usuários pesquisam [na](https://sharepoint.com/) página inicial do SharePoint, no [Office](https://office.com)ou no [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="2279d-109">**Organization level** – When you add a vertical at the organization level, it appears on the search results page when users search from their [SharePoint](https://sharepoint.com/) start page, on [Office](https://office.com), or on [Bing](https://bing.com).</span></span>
- <span data-ttu-id="2279d-110">**Nível do** site – Por exemplo, talvez você queira permitir que seus funcionários do serviço de atendimento ao cliente pesquisem incidentes de Gravidade *1* diretamente do site de segurança SharePoint departamento.</span><span class="sxs-lookup"><span data-stu-id="2279d-110">**Site level** – For example, you might want to enable your customer service employees to search for *Severity 1* incidents directly from their department’s SharePoint site.</span></span>

## <a name="search-verticals-explained"></a><span data-ttu-id="2279d-111">Pesquisas verticais explicadas</span><span class="sxs-lookup"><span data-stu-id="2279d-111">Search verticals explained</span></span>

<span data-ttu-id="2279d-112">Na parte superior da página Pesquisa da Microsoft resultados, há uma linha de guias.</span><span class="sxs-lookup"><span data-stu-id="2279d-112">At the top of the Microsoft Search results page, there's a row of tabs.</span></span> <span data-ttu-id="2279d-113">Estas são as verticais de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-113">These are the search verticals.</span></span> <span data-ttu-id="2279d-114">Uma pesquisa vertical mostra apenas resultados de um determinado tipo ou de determinado conteúdo.</span><span class="sxs-lookup"><span data-stu-id="2279d-114">A search vertical only shows results of a certain type or from certain content.</span></span> <span data-ttu-id="2279d-115">Exemplos são **Arquivos** ou **Notícias.**</span><span class="sxs-lookup"><span data-stu-id="2279d-115">Examples are **Files** or **News**.</span></span> <span data-ttu-id="2279d-116">Por padrão, Pesquisa da Microsoft mostra as verticais **Todos**, **Pessoas,** **Arquivos,** **Sites** e **Notícias**.</span><span class="sxs-lookup"><span data-stu-id="2279d-116">By default, Microsoft Search shows the verticals **All**, **People**, **Files**, **Sites**, and **News**.</span></span>  

<span data-ttu-id="2279d-117">Você pode adicionar verticais de pesquisa relevantes à sua organização.</span><span class="sxs-lookup"><span data-stu-id="2279d-117">You can add search verticals that are relevant to your organization.</span></span> <span data-ttu-id="2279d-118">Elas serão exibidas na página Pesquisa da Microsoft resultados em [SharePoint,](https://sharepoint.com/) [Office](https://Office.com)e [Bing](https://bing.com).</span><span class="sxs-lookup"><span data-stu-id="2279d-118">These will appear on the Microsoft Search results page in [SharePoint](https://sharepoint.com/), [Office](https://Office.com), and [Bing](https://bing.com).</span></span> <span data-ttu-id="2279d-119">Por exemplo, você pode criar uma vertical para conteúdo relacionado ao marketing e outra para vendas, com base no tipo de informação que cada grupo precisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-119">For example, you could create a vertical for marketing-related content and another for sales, based on the type of information that each group needs.</span></span> <span data-ttu-id="2279d-120">Você pode adicionar verticais para mostrar resultados somente de conteúdo indexado por meio de conectores.</span><span class="sxs-lookup"><span data-stu-id="2279d-120">You can add verticals to show results only from content indexed via connectors.</span></span>  

### <a name="multiple-connections-in-a-vertical"></a><span data-ttu-id="2279d-121">Várias conexões em um vertical</span><span class="sxs-lookup"><span data-stu-id="2279d-121">Multiple connections in a vertical</span></span>

<span data-ttu-id="2279d-122">Uma pesquisa vertical agora pode surgir resultados de várias fontes de conector.</span><span class="sxs-lookup"><span data-stu-id="2279d-122">A search vertical can now surface results from multiple connector sources.</span></span> <span data-ttu-id="2279d-123">Isso oferece maior flexibilidade ao projetar sua página de resultados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-123">This provides greater flexibility in designing your search result page.</span></span> <span data-ttu-id="2279d-124">A experiência administrativa existente da instalação vertical permite selecionar várias conexões na etapa "Fonte de Conteúdo".</span><span class="sxs-lookup"><span data-stu-id="2279d-124">The existing administrative experience of vertical setup allows you to select multiple connections in the "Content Source" step.</span></span>
<span data-ttu-id="2279d-125">Se você nomear com precisão quantos rótulos semânticos for possível, essa experiência será aprimorada.</span><span class="sxs-lookup"><span data-stu-id="2279d-125">If you accurately appoint as many semantic labels as possible, this experience will be enhanced.</span></span> <span data-ttu-id="2279d-126">Você pode adicionar rótulos semânticos na definição e ingestão do esquema.</span><span class="sxs-lookup"><span data-stu-id="2279d-126">You can add semantic labels upon schema definition and ingestion.</span></span>

<span data-ttu-id="2279d-127">[Aqui](configure-connector.md#step-5-assign-property-labels) estão informações adicionais sobre como criar e gerenciar rótulos semânticos.</span><span class="sxs-lookup"><span data-stu-id="2279d-127">[Here](configure-connector.md#step-5-assign-property-labels) is additional information on how to create and manage semantic labels.</span></span>

> [!NOTE]
> <span data-ttu-id="2279d-128">Várias conexões em uma vertical estão atualmente em visualização.</span><span class="sxs-lookup"><span data-stu-id="2279d-128">Multiple connections in a vertical is currently in preview.</span></span> <span data-ttu-id="2279d-129">Para obter mais informações sobre visualização, consulte [Conectores recursos de visualização](connectors-overview.md#what-are-the-preview-features).</span><span class="sxs-lookup"><span data-stu-id="2279d-129">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

### <a name="things-you-should-know"></a><span data-ttu-id="2279d-130">Coisas que você deve saber</span><span class="sxs-lookup"><span data-stu-id="2279d-130">Things you should know</span></span>

1. <span data-ttu-id="2279d-131">Uma conexão pode ser adicionada como uma fonte de conteúdo somente em uma vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-131">A connection can be added as a content source only under one vertical.</span></span> <span data-ttu-id="2279d-132">Não é permitido reutilizar conexões em várias verticais.</span><span class="sxs-lookup"><span data-stu-id="2279d-132">Reusing connections under multiple verticals is not allowed.</span></span>
2. <span data-ttu-id="2279d-133">Se você precisar configurar uma consulta para uma pesquisa vertical onde várias fontes de conexão foram adicionadas, as propriedades de origem comuns devem ser usadas para criar uma consulta desse tipo.</span><span class="sxs-lookup"><span data-stu-id="2279d-133">If you need to set up a query for a search vertical where multiple connection sources have been added, common source properties should be used to create a such a query.</span></span>

## <a name="things-to-consider"></a><span data-ttu-id="2279d-134">Itens a considerar</span><span class="sxs-lookup"><span data-stu-id="2279d-134">Things to consider</span></span>

<span data-ttu-id="2279d-135">Antes de iniciar, certifique-se de que o conector foi indexado.</span><span class="sxs-lookup"><span data-stu-id="2279d-135">Before you start, make sure that the connector has been indexed.</span></span> <span data-ttu-id="2279d-136">Isso pode levar até 48 horas, dependendo do tamanho do arquivo.</span><span class="sxs-lookup"><span data-stu-id="2279d-136">This can take up to 48 hours, depending on the file size.</span></span>

<span data-ttu-id="2279d-137">Não é possível criar uma vertical para conteúdo que reside em [SharePoint](https://sharepoint.com/).</span><span class="sxs-lookup"><span data-stu-id="2279d-137">You can’t create a vertical for content that resides in [SharePoint](https://sharepoint.com/).</span></span>

<span data-ttu-id="2279d-138">Há três etapas básicas para adicionar um vertical:</span><span class="sxs-lookup"><span data-stu-id="2279d-138">There are three basic steps to add a vertical:</span></span>

1. <span data-ttu-id="2279d-139">Crie o vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-139">Create the vertical.</span></span> <span data-ttu-id="2279d-140">Nesta etapa, você define o nome da vertical, a fonte de conteúdo e o escopo do conteúdo a ser pesquisado.</span><span class="sxs-lookup"><span data-stu-id="2279d-140">In this step, you define the vertical’s name, content source, and scope of the content to search.</span></span>
2. <span data-ttu-id="2279d-141">Defina como serão os resultados dessa vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-141">Define what the results for this vertical will look like.</span></span>  
3. <span data-ttu-id="2279d-142">Habilita a vertical (a ser exibida) na página de lista vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-142">Enable the vertical (to be displayed) from the vertical list page.</span></span>

## <a name="step-1-create-the-search-vertical"></a><span data-ttu-id="2279d-143">ETAPA 1: Criar a pesquisa vertical</span><span class="sxs-lookup"><span data-stu-id="2279d-143">STEP 1: Create the search vertical</span></span>

<span data-ttu-id="2279d-144">Depois de iniciar o assistente, você é orientado pelas etapas para definir o nome vertical, a fonte de conteúdo e o escopo do conteúdo a ser pesquisado.</span><span class="sxs-lookup"><span data-stu-id="2279d-144">After you start the wizard, you're guided through the steps to define the vertical's name, content source, and scope of the content to search.</span></span> <span data-ttu-id="2279d-145">A vertical é criada em um estado desabilitado.</span><span class="sxs-lookup"><span data-stu-id="2279d-145">The vertical is created in a disabled state.</span></span> <span data-ttu-id="2279d-146">Você a habilitará mais tarde.</span><span class="sxs-lookup"><span data-stu-id="2279d-146">You'll enable it later.</span></span>

<span data-ttu-id="2279d-147">Você pode usar um conjunto limitado de [KQL (Keyword Query Language) para](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) restringir o escopo.</span><span class="sxs-lookup"><span data-stu-id="2279d-147">You can use a limited set of [Keyword Query Language (KQL)](/sharepoint/dev/general-development/keyword-query-language-kql-syntax-reference) to narrow the scope.</span></span> <span data-ttu-id="2279d-148">Esta página lista as propriedades disponíveis.</span><span class="sxs-lookup"><span data-stu-id="2279d-148">This page lists the properties that are available.</span></span> <span data-ttu-id="2279d-149">Recomendamos que você use palavras-chave de texto livre e restrições de propriedade com operadores boolianas para criar o KQL.</span><span class="sxs-lookup"><span data-stu-id="2279d-149">We recommend that you use free-text keywords and property restrictions with boolean operators for creating the KQL.</span></span>
<span data-ttu-id="2279d-150">O KQL também dá suporte ao uso de [variáveis de consulta](#profile-query-variables) de perfil para ajustar os resultados na vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-150">KQL also supports the use of [profile query variables](#profile-query-variables) to fine-tune results under the vertical.</span></span>

### <a name="create-a-vertical-at-the-organization-level"></a><span data-ttu-id="2279d-151">Criar uma vertical no nível da organização</span><span class="sxs-lookup"><span data-stu-id="2279d-151">Create a vertical at the organization level</span></span>

<span data-ttu-id="2279d-152">Para criar a vertical no Pesquisa da Microsoft [em](https://sharepoint.com/) [SharePoint,](https://office.com)Office , ou [Bing](https://bing.com), siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="2279d-152">To create the vertical on Microsoft Search in [SharePoint](https://sharepoint.com/) home, [Office](https://office.com), or [Bing](https://bing.com), follow these steps:</span></span>

1. <span data-ttu-id="2279d-153">No [Centro de administração do Microsoft 365,](https://admin.microsoft.com)vá para [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span><span class="sxs-lookup"><span data-stu-id="2279d-153">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Verticals**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/verticals).</span></span>
2. <span data-ttu-id="2279d-154">Selecione **Adicionar** para começar.</span><span class="sxs-lookup"><span data-stu-id="2279d-154">Select **Add** to get started.</span></span>  

### <a name="create-a-vertical-at-the-site-level"></a><span data-ttu-id="2279d-155">Criar uma vertical no nível do site</span><span class="sxs-lookup"><span data-stu-id="2279d-155">Create a vertical at the site level</span></span>

1. <span data-ttu-id="2279d-156">No site [SharePoint](https://sharepoint.com/) onde você deseja verticais, vá para **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="2279d-156">On the [SharePoint](https://sharepoint.com/) site where you want the vertical, go to **Settings**.</span></span>
2. <span data-ttu-id="2279d-157">Selecione **Informações do site** e, em **seguida, Exibir todas as configurações do site**.</span><span class="sxs-lookup"><span data-stu-id="2279d-157">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="2279d-158">Procure a seção **Pesquisa da Microsoft** e selecione Configurar Pesquisa da Microsoft **para este conjunto de sites.**</span><span class="sxs-lookup"><span data-stu-id="2279d-158">Look for the **Microsoft Search** section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="2279d-159">No painel de navegação, vá para **Experiência personalizada** e selecione a **guia Verticals.**</span><span class="sxs-lookup"><span data-stu-id="2279d-159">In the navigation pane, go to **Custom experience**, and then select the **Verticals** tab.</span></span>
5. <span data-ttu-id="2279d-160">Para adicionar um vertical, selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="2279d-160">To add a vertical, select **Add**.</span></span>
  <span data-ttu-id="2279d-161">Ou, para editar uma vertical, selecione-a na lista.</span><span class="sxs-lookup"><span data-stu-id="2279d-161">Or, to edit a vertical, select it in the list.</span></span>

<span data-ttu-id="2279d-162">Lembre-se de que as verticais são criadas em um estado desabilitado.</span><span class="sxs-lookup"><span data-stu-id="2279d-162">Remember, verticals are created in a disabled state.</span></span> <span data-ttu-id="2279d-163">Eles devem estar habilitados para que os usuários possam vê-los.</span><span class="sxs-lookup"><span data-stu-id="2279d-163">They must be enabled before users can see them.</span></span>

## <a name="step-2-create-the-result-types"></a><span data-ttu-id="2279d-164">ETAPA 2: Criar os tipos de resultados</span><span class="sxs-lookup"><span data-stu-id="2279d-164">STEP 2: Create the result types</span></span>

<span data-ttu-id="2279d-165">Você pode definir como os resultados são exibidos na vertical, projetando o layout usando tipos de resultados.</span><span class="sxs-lookup"><span data-stu-id="2279d-165">You can define how results are displayed in the vertical by designing the layout using result types.</span></span> <span data-ttu-id="2279d-166">O layout de resultados permite que você mostre informações importantes diretamente nos resultados da pesquisa, para que os usuários não tenham que selecionar cada resultado para ver se encontraram o que estão procurando.</span><span class="sxs-lookup"><span data-stu-id="2279d-166">The result layout lets you show important information directly in the search results, so users don't have to select each result to see if they found what they're looking for.</span></span>

### <a name="default-search-result-layout"></a><span data-ttu-id="2279d-167">Layout padrão do resultado da pesquisa</span><span class="sxs-lookup"><span data-stu-id="2279d-167">Default search result layout</span></span>

<span data-ttu-id="2279d-168">Um layout de resultado de pesquisa  padrão será mostrado para conteúdo do Conector se os rótulos e a propriedade **de** conteúdo foram mapeados corretamente para as propriedades de origem no momento da configuração do conector.</span><span class="sxs-lookup"><span data-stu-id="2279d-168">A default search result layout will be shown for Connector content if **labels** and **content** property have been mapped correctly to the source properties at the time of configuring the connector.</span></span> <span data-ttu-id="2279d-169">O título **do rótulo** é o rótulo mais importante.</span><span class="sxs-lookup"><span data-stu-id="2279d-169">The label **title** is the most important label.</span></span> <span data-ttu-id="2279d-170">É altamente **recomendável que** você tenha uma propriedade atribuída a esse rótulo para usar o layout de resultado da pesquisa padrão.</span><span class="sxs-lookup"><span data-stu-id="2279d-170">It is **strongly recommended** that you have a property assigned to this label to use default search result layout.</span></span>

### <a name="create-your-own-result-type"></a><span data-ttu-id="2279d-171">Criar seu próprio tipo de resultado</span><span class="sxs-lookup"><span data-stu-id="2279d-171">Create your own result type</span></span>

<span data-ttu-id="2279d-172">Você pode optar por criar seu próprio layout de resultado de pesquisa e substituir o layout padrão do resultado da pesquisa criando um **tipo de resultado**.</span><span class="sxs-lookup"><span data-stu-id="2279d-172">You can decide to create your own search result layout and override the default search result layout by creating a **result type**.</span></span> <span data-ttu-id="2279d-173">O tipo do resultado de pesquisa é uma função que faz com que diferentes tipos de resultados de pesquisa sejam exibidos de diferentes maneiras.</span><span class="sxs-lookup"><span data-stu-id="2279d-173">A search result type is a rule that causes distinct kinds of search results to be displayed in different ways.</span></span> <span data-ttu-id="2279d-174">Ele consiste no seguinte:</span><span class="sxs-lookup"><span data-stu-id="2279d-174">It consists of the following:</span></span>

- <span data-ttu-id="2279d-175">**Uma ou mais condições para** comparar cada resultado de pesquisa, como a fonte de conteúdo do resultado da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-175">**One or more conditions** to compare each search result against, such as the content source of the search result.</span></span>  
- <span data-ttu-id="2279d-176">Um **layout de resultado** a ser usado para resultados de pesquisa que atendem às condições.</span><span class="sxs-lookup"><span data-stu-id="2279d-176">A **result layout** to use for search results that meet the conditions.</span></span> <span data-ttu-id="2279d-177">O layout resultante controla a forma como todos os resultados que atendem às condições aparecem e se comportam em uma página de resultados de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-177">The resulting layout controls the way that all results that meet the conditions appear and behave on a search results page.</span></span>

<span data-ttu-id="2279d-178">**Se o mapeamento apropriado não for feito para mostrar o layout padrão do resultado da pesquisa, você deve criar pelo menos um tipo de resultado para que os resultados seja exibidos na vertical.**</span><span class="sxs-lookup"><span data-stu-id="2279d-178">**If appropriate mapping is not done to show default search result layout, You must create at least one result type for results to display on the vertical.**</span></span> <span data-ttu-id="2279d-179">Você pode criar vários tipos de resultados para cada vertical, o que permite usar layouts diferentes para diferentes tipos de resultados.</span><span class="sxs-lookup"><span data-stu-id="2279d-179">You can create multiple result types for each vertical, which allows you to use different layouts for different type of results.</span></span> <span data-ttu-id="2279d-180">Por exemplo, você pode personalizar *incidentes de* Gravidade 1 para ter cores mais proeminentes e uma fonte maior em comparação com incidentes de Gravidade *3.*</span><span class="sxs-lookup"><span data-stu-id="2279d-180">For example, you can customize *Severity 1* incidents to have more prominent colors and a larger font compared to *Severity 3* incidents.</span></span>

<span data-ttu-id="2279d-181">Depois de iniciar o assistente, você é orientado pelas etapas para definir o nome, a fonte de conteúdo e as condições do tipo de resultado.</span><span class="sxs-lookup"><span data-stu-id="2279d-181">After you start the wizard, you're guided through the steps to define the name, content source, and conditions for the result type.</span></span> <span data-ttu-id="2279d-182">Você pode definir a prioridade do tipo de resultado no exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="2279d-182">You can define the priority of the result type from the list view.</span></span>
  
### <a name="create-a-result-type-at-the-organization-level"></a><span data-ttu-id="2279d-183">Criar um tipo de resultado no nível da organização</span><span class="sxs-lookup"><span data-stu-id="2279d-183">Create a result type at the organization level</span></span>

1. <span data-ttu-id="2279d-184">Na [Centro de administração do Microsoft 365,](https://admin.microsoft.com)vá para [**Tipos de resultado**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span><span class="sxs-lookup"><span data-stu-id="2279d-184">In the [Microsoft 365 admin center](https://admin.microsoft.com), go to [**Result types**](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/resulttypes).</span></span>
2. <span data-ttu-id="2279d-185">Para adicionar um **tipo de resultado,** selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="2279d-185">To add a **Result type**, select **Add**.</span></span> <span data-ttu-id="2279d-186">Para editar um tipo de resultado, selecione o tipo de resultado na lista relevante.</span><span class="sxs-lookup"><span data-stu-id="2279d-186">To edit a result type, select the result type in the relevant list.</span></span>

### <a name="create-a-results-type-at-the-site-level"></a><span data-ttu-id="2279d-187">Criar um tipo de resultados no nível do site</span><span class="sxs-lookup"><span data-stu-id="2279d-187">Create a results type at the site level</span></span>

1. <span data-ttu-id="2279d-188">No site [SharePoint](https://sharepoint.com/) onde você deseja criar o tipo de resultado, vá para **Configurações**.</span><span class="sxs-lookup"><span data-stu-id="2279d-188">On the [SharePoint](https://sharepoint.com/) site where you want to create the result type, go to **Settings**.</span></span>
2. <span data-ttu-id="2279d-189">Selecione **Informações do site** e, em **seguida, Exibir todas as configurações do site**.</span><span class="sxs-lookup"><span data-stu-id="2279d-189">Select **Site information** and then **View all site settings**.</span></span>
3. <span data-ttu-id="2279d-190">Procure a seção Pesquisa da Microsoft e selecione Configurar Pesquisa da Microsoft **para este conjunto de sites.**</span><span class="sxs-lookup"><span data-stu-id="2279d-190">Look for the Microsoft Search section, and then select **Configure Microsoft Search for this site collection**.</span></span>
4. <span data-ttu-id="2279d-191">No painel de navegação, vá para **Experiência personalizada** e selecione Guia **Tipo de** resultado.</span><span class="sxs-lookup"><span data-stu-id="2279d-191">In the navigation pane, go to **Custom experience**, and select **Result type** tab.</span></span>
5. <span data-ttu-id="2279d-192">Para adicionar um tipo de resultado, selecione **Adicionar**.</span><span class="sxs-lookup"><span data-stu-id="2279d-192">To add a result type, select **Add**.</span></span>  <span data-ttu-id="2279d-193">Ou, para editar um tipo de resultado, selecione o tipo de resultado na lista.</span><span class="sxs-lookup"><span data-stu-id="2279d-193">Or, to edit a result type, select the result type in the list.</span></span>

## <a name="step-3-view-the-vertical-after-its-enabled"></a><span data-ttu-id="2279d-194">ETAPA 3: Exibir a vertical depois de habilitada</span><span class="sxs-lookup"><span data-stu-id="2279d-194">STEP 3: View the vertical after it's enabled</span></span>

<span data-ttu-id="2279d-195">Depois de habilitar a vertical, levará algumas horas para poder exibi-la.</span><span class="sxs-lookup"><span data-stu-id="2279d-195">After you enable the vertical, it will take a few hours before you can view it.</span></span> <span data-ttu-id="2279d-196">Se você não quiser esperar depois de habilita-lo, você pode anexar **cacheClear=true** à URL no [SharePoint](https://sharepoint.com/) e [Office](https://office.com) para exibir a vertical imediatamente.</span><span class="sxs-lookup"><span data-stu-id="2279d-196">If you don't want to wait after enabling it, you can append **cacheClear=true** to the URL in [SharePoint](https://sharepoint.com/) and [Office](https://office.com) to view the vertical immediately.</span></span> <span data-ttu-id="2279d-197">Para [Bing](https://bing.com), anexar&**features=uncachedVerticals** à URL vertical de Trabalho para exibir as verticais imediatamente.</span><span class="sxs-lookup"><span data-stu-id="2279d-197">For [Bing](https://bing.com), append **&features=uncachedVerticals** to the Work vertical URL to view the verticals immediately.</span></span>

> [!NOTE]
> <span data-ttu-id="2279d-198">As verticais adicionadas não estarão visíveis SharePoint [e](https://sharepoint.com/) [Office](https://office.com) quando exibidas de navegadores da Web móveis.</span><span class="sxs-lookup"><span data-stu-id="2279d-198">Added verticals will not be visible on [SharePoint](https://sharepoint.com/) and [Office](https://office.com) when viewed from mobile web browsers.</span></span>

## <a name="profile-query-variables"></a><span data-ttu-id="2279d-199">Variáveis de consulta de perfil</span><span class="sxs-lookup"><span data-stu-id="2279d-199">Profile query variables</span></span>

<span data-ttu-id="2279d-200">As variáveis de consulta são usadas na seção de consulta KQL de uma vertical para fornecer dados dinâmicos como uma entrada para a consulta de uma vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-200">Query variables are used in the KQL query section of a vertical to provide dynamic data as an input to the query of a vertical.</span></span> <span data-ttu-id="2279d-201">Você pode usar as variáveis de consulta de perfil para tornar os resultados da pesquisa contextuais para o usuário in-locar.</span><span class="sxs-lookup"><span data-stu-id="2279d-201">You can use profile query variables to make the search results contextual to the signed-in user.</span></span> <span data-ttu-id="2279d-202">As variáveis de consulta de perfil buscam valores do perfil do usuário [de entrada.](/graph/api/resources/profile?view=graph-rest-beta)</span><span class="sxs-lookup"><span data-stu-id="2279d-202">Profile query variables fetch values from the signed-in user’s [profile](/graph/api/resources/profile?view=graph-rest-beta).</span></span>

<span data-ttu-id="2279d-203">Por exemplo, se você quiser criar uma vertical "Tíquetes" onde um usuário inscreveu pode pesquisar por tíquetes de suporte atribuídos a eles, você pode especificar a seguinte consulta na seção "Consulta" durante a criação vertical na página de administração.</span><span class="sxs-lookup"><span data-stu-id="2279d-203">For example, if you want to create a “Tickets” vertical where a signed-in user can search for support tickets assigned to them, you can specify the following query under the "Query" section during the vertical creation in the administration page.</span></span>  

<span data-ttu-id="2279d-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span><span class="sxs-lookup"><span data-stu-id="2279d-204">**AssignedTo:{Profile.accounts.userPrincipalName}**</span></span>

<span data-ttu-id="2279d-205">Isso restringirá os resultados da pesquisa para mostrar apenas os itens em que o destinatário é o usuário que está executando a pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2279d-205">This will narrow down the search results to show only those items where the assignee is the user performing the search.</span></span>

<span data-ttu-id="2279d-206">[O recurso Profile](/graph/api/resources/profile?view=graph-rest-beta) expõe propriedades como coleções.</span><span class="sxs-lookup"><span data-stu-id="2279d-206">[Profile resource](/graph/api/resources/profile?view=graph-rest-beta) exposes properties as collections.</span></span> <span data-ttu-id="2279d-207">Por exemplo, informações relacionadas a endereços de email são expostas por meio de coleta de emails, posições de trabalho como conjunto de posições e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="2279d-207">For example, information related to email addresses is exposed through email collection, work positions as positions collection, and so on.</span></span> <span data-ttu-id="2279d-208">Todas as propriedades disponíveis no perfil de usuário, que têm o AAD como o tipo de origem, são expostas como variáveis de consulta.</span><span class="sxs-lookup"><span data-stu-id="2279d-208">All properties available in the user profile, which have AAD as the source type, are exposed as Query variables.</span></span>

<span data-ttu-id="2279d-209">Considere um usuário que tenha 3 endereços de email disponíveis no conjunto de emails, conforme mostrado abaixo.</span><span class="sxs-lookup"><span data-stu-id="2279d-209">Consider a user who has 3 email addresses available in the email collection, as shown below.</span></span>

```json
"emails": [{ 

        "address": "Megan.Bowen@contoso.com",
        "id": "xyz", 
        "source": { 
            "CreatedBy": "xyz", 
            "CreatedOn": "2222", 
            "Type": "official" 
        },
        "type": "main" 
    }, { 
        "address": "meganb@hotmail.com",
        "id": "abc", 
        "source": { 
            "CreatedBy": "abc",
            "CreatedOn": "3333", 
            "Type": "non-official",
        },
        "type": "work"
    }, { 
        "address": "meganb@outlook.com",
        "id": "pqr", 
        "source": { 
            "CreatedBy": "pqr", 
            "CreatedOn": "4444", 
            "Type": "personal" 
        },
        "type": "personal" 
    } 
] 
```

- <span data-ttu-id="2279d-210">A consulta **MyProperty: {Profile.emails.address}** resolverá para MyProperty: "Megan.Bowen@contoso.com".</span><span class="sxs-lookup"><span data-stu-id="2279d-210">The query **MyProperty: {Profile.emails.address}** will resolve to MyProperty: “Megan.Bowen@contoso.com”.</span></span>  

- <span data-ttu-id="2279d-211">Se desejar resolver todos os valores do atributo address, você terá que usar a sintaxe de expansão de vários valores.</span><span class="sxs-lookup"><span data-stu-id="2279d-211">If you wish to resolve all the values of the address attribute, you have to use the multi-value expansion syntax.</span></span> <span data-ttu-id="2279d-212">A consulta **{| MyProperty:{Profile.emails.address}}** resolverá para ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span><span class="sxs-lookup"><span data-stu-id="2279d-212">The query **{|MyProperty:{Profile.emails.address}}** will resolve to ((MyProperty:"Megan.Bowen@contoso.com") OR (MyProperty: "meganb@hotmail.com") OR (MyProperty:"meganb@outlook.com"))</span></span>  

<span data-ttu-id="2279d-213">O operador "|" deve ser usado para resolver variáveis de vários valores.</span><span class="sxs-lookup"><span data-stu-id="2279d-213">The “|” operator should be used for resolving multi-value variables.</span></span> <span data-ttu-id="2279d-214">Para obter mais exemplos de expansão de perfil, consulte a tabela abaixo.</span><span class="sxs-lookup"><span data-stu-id="2279d-214">For more examples on profile expansion refer to the table below.</span></span>

| #         | <span data-ttu-id="2279d-215">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="2279d-215">Syntax</span></span> |  <span data-ttu-id="2279d-216">Valor retornado</span><span class="sxs-lookup"><span data-stu-id="2279d-216">Value returned</span></span>  |
| --------- | ------ | --- |
| <span data-ttu-id="2279d-217">1</span><span class="sxs-lookup"><span data-stu-id="2279d-217">1</span></span>    | <span data-ttu-id="2279d-218">MyProperty:{Profile.emails.address}</span><span class="sxs-lookup"><span data-stu-id="2279d-218">MyProperty:{Profile.emails.address}</span></span>  |   <span data-ttu-id="2279d-219">"Megan.Bowen@contoso.com"</span><span class="sxs-lookup"><span data-stu-id="2279d-219">"Megan.Bowen@contoso.com"</span></span>  |
| <span data-ttu-id="2279d-220">2</span><span class="sxs-lookup"><span data-stu-id="2279d-220">2</span></span> | <span data-ttu-id="2279d-221">MyProperty:{Profile.emails}</span><span class="sxs-lookup"><span data-stu-id="2279d-221">MyProperty:{Profile.emails}</span></span>   |    <span data-ttu-id="2279d-222">{Profile.emails} Isso não será resolvido porque os emails são um objeto.</span><span class="sxs-lookup"><span data-stu-id="2279d-222">{Profile.emails} This will not resolve because emails are an object.</span></span>|
| <span data-ttu-id="2279d-223">3</span><span class="sxs-lookup"><span data-stu-id="2279d-223">3</span></span>    | <span data-ttu-id="2279d-224">{? MyProperty:{Profile.emails}}</span><span class="sxs-lookup"><span data-stu-id="2279d-224">{?MyProperty:{Profile.emails}}</span></span>  |  <span data-ttu-id="2279d-225">Isso não será resolvido porque os emails são um objeto.</span><span class="sxs-lookup"><span data-stu-id="2279d-225">This will not resolve because emails is an object.</span></span> <span data-ttu-id="2279d-226">O "?"</span><span class="sxs-lookup"><span data-stu-id="2279d-226">The “?”</span></span> <span data-ttu-id="2279d-227">o operador ignora as variáveis de consulta que não são resolvidas.</span><span class="sxs-lookup"><span data-stu-id="2279d-227">operator ignores query variables that do not resolve.</span></span> <span data-ttu-id="2279d-228">Essa variável será removida quando passada para baixo na pilha de consulta.</span><span class="sxs-lookup"><span data-stu-id="2279d-228">This variable will be removed when passed further down the query stack.</span></span>   |
| <span data-ttu-id="2279d-229">4 </span><span class="sxs-lookup"><span data-stu-id="2279d-229">4</span></span> | <span data-ttu-id="2279d-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span><span class="sxs-lookup"><span data-stu-id="2279d-230">{&#124;MyProperty: {Profile.emails.source.Type}}</span></span>    |  <span data-ttu-id="2279d-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span><span class="sxs-lookup"><span data-stu-id="2279d-231">((MyProperty:"official") OR (MyProperty:"non-official") OR (MyProperty:"personal"))</span></span>    |

> [!NOTE]
>
> - <span data-ttu-id="2279d-232">As variáveis de consulta de perfil só têm suporte para verticais personalizadas usando [um conector](connectors-overview.md) como fonte de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="2279d-232">Profile query variables are only supported for custom verticals using a [connector](connectors-overview.md) as a content source.</span></span>
> - <span data-ttu-id="2279d-233">As variáveis de consulta de perfil são definidas na seção "Consulta" do [processo de configuração vertical](customize-search-page.md#step-1-create-the-search-vertical).</span><span class="sxs-lookup"><span data-stu-id="2279d-233">Profile query variables are defined on the “Query” section of the [vertical set up process](customize-search-page.md#step-1-create-the-search-vertical).</span></span>
> - <span data-ttu-id="2279d-234">As variáveis de consulta de perfil estão atualmente em visualização.</span><span class="sxs-lookup"><span data-stu-id="2279d-234">Profile query variables is currently in preview.</span></span> <span data-ttu-id="2279d-235">Para obter mais informações sobre visualização, consulte [Conectores recursos de visualização](connectors-overview.md#what-are-the-preview-features).</span><span class="sxs-lookup"><span data-stu-id="2279d-235">For more information about preview, see [Connectors preview features](connectors-overview.md#what-are-the-preview-features).</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="2279d-236">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="2279d-236">Troubleshooting</span></span>

<span data-ttu-id="2279d-237">Aqui está uma lista de problemas comuns que você pode encontrar e ações para corrigi-los.</span><span class="sxs-lookup"><span data-stu-id="2279d-237">Here's a list of common issues you might encounter and actions to fix them.</span></span>

|<span data-ttu-id="2279d-238">Erro</span><span class="sxs-lookup"><span data-stu-id="2279d-238">Error</span></span>  |<span data-ttu-id="2279d-239">Ação</span><span class="sxs-lookup"><span data-stu-id="2279d-239">Action</span></span>  |
|---------|---------|
| <span data-ttu-id="2279d-240">Vejo uma mensagem de erro "Algo deu errado" na vertical.</span><span class="sxs-lookup"><span data-stu-id="2279d-240">I see a "Something went wrong" error message on the vertical.</span></span> | <span data-ttu-id="2279d-241">Os tipos vertical e de resultado são necessários para concluir a instalação.</span><span class="sxs-lookup"><span data-stu-id="2279d-241">Both the vertical and result types are needed to complete the setup.</span></span> <span data-ttu-id="2279d-242">Certifique-se de ter criado ambos para a mesma fonte de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="2279d-242">Make sure you have created both for the same content source.</span></span> |
| <span data-ttu-id="2279d-243">Não vejo meu layout de resultado, embora tenha criado um.</span><span class="sxs-lookup"><span data-stu-id="2279d-243">I don't see my result layout, although I created one.</span></span> | <span data-ttu-id="2279d-244">Leva alguns minutos porque essas configurações geralmente são armazenadas em cache.</span><span class="sxs-lookup"><span data-stu-id="2279d-244">It takes a few minutes because these settings are generally cached.</span></span> <span data-ttu-id="2279d-245">Aguarde alguns minutos e tente novamente.</span><span class="sxs-lookup"><span data-stu-id="2279d-245">Wait for a few minutes and try again.</span></span>        |
| <span data-ttu-id="2279d-246">Não vejo fontes de conteúdo na página vertical ou do tipo de resultado.</span><span class="sxs-lookup"><span data-stu-id="2279d-246">I don't see any content sources on the vertical or result type page.</span></span> | <span data-ttu-id="2279d-247">Certifique-se de ter configurado conectores e dados indexados.</span><span class="sxs-lookup"><span data-stu-id="2279d-247">Make sure you have configured connectors and indexed data.</span></span>   |

## <a name="next-steps"></a><span data-ttu-id="2279d-248">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2279d-248">Next steps</span></span>

[<span data-ttu-id="2279d-249">Personalizar o layout de resultados</span><span class="sxs-lookup"><span data-stu-id="2279d-249">Customize the results layout</span></span>](customize-results-layout.md)
