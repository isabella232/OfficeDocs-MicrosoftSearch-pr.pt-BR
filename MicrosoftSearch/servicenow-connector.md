---
title: Conector de Graph ServiceNow para Pesquisa da Microsoft
ms.author: mecampos
author: mecampos
manager: umas
audience: Admin
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurar o conector de Graph ServiceNow para a Pesquisa da Microsoft
ms.openlocfilehash: ac5d0b23547ce7ccd0d8bb6399b092f9bc9e5303
ms.sourcegitcommit: f12e7ff0a94d30a9de1f93266715180e7530de3f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/10/2021
ms.locfileid: "52879304"
---
<!---Previous ms.author: kam1 --->


# <a name="servicenow-graph-connector"></a><span data-ttu-id="5f286-103">Conector de Graph ServiceNow</span><span class="sxs-lookup"><span data-stu-id="5f286-103">ServiceNow Graph Connector</span></span>

<span data-ttu-id="5f286-104">Com o Microsoft Graph Connector para ServiceNow, sua organização pode indexar artigos de base de conhecimento visíveis para todos os usuários ou restritos com permissões de critérios de usuário em sua organização.</span><span class="sxs-lookup"><span data-stu-id="5f286-104">With the Microsoft Graph Connector for ServiceNow, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="5f286-105">Depois de configurar o conector e o conteúdo de índice do ServiceNow, os usuários finais podem pesquisar esses artigos de qualquer cliente de Pesquisa da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5f286-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="5f286-106">Este artigo é para Microsoft 365 administradores ou qualquer pessoa que configure, executa e monitore um conector de Graph ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow Graph  connector.</span></span> <span data-ttu-id="5f286-107">Ele complementa as instruções gerais fornecidas no [artigo Configurar seu](configure-connector.md) Graph conector.</span><span class="sxs-lookup"><span data-stu-id="5f286-107">It supplements the general instructions provided in the [Set up your Graph connector](configure-connector.md) article.</span></span> <span data-ttu-id="5f286-108">Se você ainda não tiver feito isso, leia todo o artigo Configurar o conector Graph para entender o processo de instalação geral.</span><span class="sxs-lookup"><span data-stu-id="5f286-108">If you have not already done so, read the entire Set up your Graph Connector article to understand the general setup process.</span></span>

<span data-ttu-id="5f286-109">Cada etapa no processo de instalação é listada abaixo juntamente com uma observação que indica que você deve seguir as [](#troubleshooting) instruções gerais de instalação OU outras instruções que se aplicam apenas ao conector de Graph ServiceNow, incluindo informações sobre Solução de Problemas e Limitações. [](#limitations)</span><span class="sxs-lookup"><span data-stu-id="5f286-109">Each step in the setup process is listed below along with either a note that indicates you should follow the general setup instructions OR other instructions that apply to only ServiceNow Graph connector including information about [Troubleshooting](#troubleshooting) and [Limitations](#limitations).</span></span>  

## <a name="step-1-add-a-graph-connector-in-the-microsoft-365-admin-center"></a><span data-ttu-id="5f286-110">Etapa 1: adicionar um conector Graph no centro de Microsoft 365 de administração.</span><span class="sxs-lookup"><span data-stu-id="5f286-110">Step 1: Add a Graph connector in the Microsoft 365 admin center.</span></span>
<span data-ttu-id="5f286-111">Siga as instruções gerais de instalação.</span><span class="sxs-lookup"><span data-stu-id="5f286-111">Follow the general setup instructions.</span></span>

## <a name="step-2-name-the-connection"></a><span data-ttu-id="5f286-112">Etapa 2: nomear a conexão.</span><span class="sxs-lookup"><span data-stu-id="5f286-112">Step 2: Name the connection.</span></span>
<span data-ttu-id="5f286-113">Siga as instruções gerais de instalação.</span><span class="sxs-lookup"><span data-stu-id="5f286-113">Follow the general setup instructions.</span></span>


## <a name="step-3-connection-settings"></a><span data-ttu-id="5f286-114">Etapa 3: Conexão Configurações</span><span class="sxs-lookup"><span data-stu-id="5f286-114">Step 3: Connection Settings</span></span>
<span data-ttu-id="5f286-115">Para se conectar aos dados serviceNow, você precisa da URL da instância **serviceNow da sua organização.**</span><span class="sxs-lookup"><span data-stu-id="5f286-115">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**.</span></span> <span data-ttu-id="5f286-116">A URL da instância ServiceNow da sua organização normalmente se parece https:// **&lt; sua organização-domínio>.service-now.com**.</span><span class="sxs-lookup"><span data-stu-id="5f286-116">Your organization’s ServiceNow instance URL typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> 

<span data-ttu-id="5f286-117">Junto com essa URL, você precisará de uma conta de serviço para configurar **a** conexão com ServiceNow, bem como para permitir que a Pesquisa da Microsoft atualize periodicamente os artigos de conhecimento com base no cronograma de atualização.</span><span class="sxs-lookup"><span data-stu-id="5f286-117">Along with this URL, you will need a **service account** for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the knowledge articles based on the refresh schedule.</span></span> <span data-ttu-id="5f286-118">A conta de serviço precisará de acesso de leitura aos seguintes registros da tabela **ServiceNow** para rastrear várias entidades com êxito.</span><span class="sxs-lookup"><span data-stu-id="5f286-118">The service account will need read access to the following **ServiceNow table records** to successfully crawl various entities.</span></span>

<span data-ttu-id="5f286-119">**Recurso**</span><span class="sxs-lookup"><span data-stu-id="5f286-119">**Feature**</span></span> | <span data-ttu-id="5f286-120">**Ler tabelas necessárias de acesso**</span><span class="sxs-lookup"><span data-stu-id="5f286-120">**Read access required tables**</span></span> | <span data-ttu-id="5f286-121">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="5f286-121">**Description**</span></span>
--- | --- | ---
<span data-ttu-id="5f286-122">Artigos de conhecimento de índice disponíveis para <em>Todos</em></span><span class="sxs-lookup"><span data-stu-id="5f286-122">Index knowledge articles available to <em>Everyone</em></span></span> | <span data-ttu-id="5f286-123">kb_knowledge</span><span class="sxs-lookup"><span data-stu-id="5f286-123">kb_knowledge</span></span> | <span data-ttu-id="5f286-124">Para rastrear artigos de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-124">For crawling knowledge articles</span></span>
<span data-ttu-id="5f286-125">Permissões de critérios de usuário de indexação e suporte</span><span class="sxs-lookup"><span data-stu-id="5f286-125">Index and support user criteria permissions</span></span> | <span data-ttu-id="5f286-126">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="5f286-126">kb_uc_can_read_mtom</span></span> | <span data-ttu-id="5f286-127">Who pode ler essa base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-127">Who can read this knowledge base</span></span>
| | <span data-ttu-id="5f286-128">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="5f286-128">kb_uc_can_contribute_mtom</span></span> | <span data-ttu-id="5f286-129">Who pode contribuir para essa base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-129">Who can contribute to this knowledge base</span></span>
| | <span data-ttu-id="5f286-130">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="5f286-130">kb_uc_cannot_read_mtom</span></span> | <span data-ttu-id="5f286-131">Who não pode ler essa base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-131">Who cannot read this knowledge base</span></span>
| | <span data-ttu-id="5f286-132">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="5f286-132">kb_uc_cannot_contribute_mtom</span></span> | <span data-ttu-id="5f286-133">Who pode contribuir para essa base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-133">Who cannot contribute to this knowledge base</span></span>
| | <span data-ttu-id="5f286-134">sys_user</span><span class="sxs-lookup"><span data-stu-id="5f286-134">sys_user</span></span> | <span data-ttu-id="5f286-135">Ler tabela de usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-135">Read user table</span></span>
| | <span data-ttu-id="5f286-136">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="5f286-136">sys_user_has_role</span></span> | <span data-ttu-id="5f286-137">Ler informações de função de usuários</span><span class="sxs-lookup"><span data-stu-id="5f286-137">Read role information of users</span></span>
| | <span data-ttu-id="5f286-138">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="5f286-138">sys_user_grmember</span></span> | <span data-ttu-id="5f286-139">Ler associação de grupo de usuários</span><span class="sxs-lookup"><span data-stu-id="5f286-139">Read group membership of users</span></span>
| | <span data-ttu-id="5f286-140">user_criteria</span><span class="sxs-lookup"><span data-stu-id="5f286-140">user_criteria</span></span> | <span data-ttu-id="5f286-141">Ler permissões de critérios de usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-141">Read user criteria permissions</span></span>
| | <span data-ttu-id="5f286-142">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="5f286-142">kb_knowledge_base</span></span> | <span data-ttu-id="5f286-143">Ler informações da base de dados de conhecimento</span><span class="sxs-lookup"><span data-stu-id="5f286-143">Read knowledge base information</span></span>

<span data-ttu-id="5f286-144">Você pode **criar e atribuir uma função para a** conta de serviço que você usa para se conectar à Pesquisa da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="5f286-144">You can **create and assign a role** for the service account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="5f286-145">[Saiba como atribuir função para contas ServiceNow.](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html)</span><span class="sxs-lookup"><span data-stu-id="5f286-145">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="5f286-146">O acesso de leitura às tabelas pode ser atribuído na função criada.</span><span class="sxs-lookup"><span data-stu-id="5f286-146">Read access to the tables can be assigned on the created role.</span></span> <span data-ttu-id="5f286-147">Para saber mais sobre como definir o acesso de leitura aos registros de tabela, consulte [Proteger registros de tabela.](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls)</span><span class="sxs-lookup"><span data-stu-id="5f286-147">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span> 


>[!NOTE]
> <span data-ttu-id="5f286-148">ServiceNow Graph Connector pode indexar artigos de conhecimento e permissões de critérios de usuário sem scripts avançados.</span><span class="sxs-lookup"><span data-stu-id="5f286-148">ServiceNow Graph Connector can index knowledge articles and user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="5f286-149">Se um critério de usuário contiver script avançado, todos os artigos de conhecimento relacionados serão ocultos dos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f286-149">If a user criteria contains advanced script all the related knowledge articles will be hidden from search results.</span></span>

<span data-ttu-id="5f286-150">Para autenticar e sincronizar conteúdo do ServiceNow, escolha **um dos três** métodos com suporte:</span><span class="sxs-lookup"><span data-stu-id="5f286-150">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
 
- <span data-ttu-id="5f286-151">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="5f286-151">Basic authentication</span></span> 
- <span data-ttu-id="5f286-152">ServiceNow OAuth (recomendado)</span><span class="sxs-lookup"><span data-stu-id="5f286-152">ServiceNow OAuth (recommended)</span></span>
- <span data-ttu-id="5f286-153">OpenID do Azure AD Conexão</span><span class="sxs-lookup"><span data-stu-id="5f286-153">Azure AD OpenID Connect</span></span>

## <a name="step-31-basic-authentication"></a><span data-ttu-id="5f286-154">Etapa 3.1: Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="5f286-154">Step 3.1: Basic authentication</span></span>

<span data-ttu-id="5f286-155">Insira o nome de usuário e a senha da conta ServiceNow com **a função de** conhecimento a ser autenticada em sua instância.</span><span class="sxs-lookup"><span data-stu-id="5f286-155">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

## <a name="step-32-servicenow-oauth"></a><span data-ttu-id="5f286-156">Etapa 3.2: ServiceNow OAuth</span><span class="sxs-lookup"><span data-stu-id="5f286-156">Step 3.2: ServiceNow OAuth</span></span>

<span data-ttu-id="5f286-157">Para usar ServiceNow OAuth para autenticação, um administrador do ServiceNow precisa provisionar um ponto de extremidade em sua instância serviceNow, para que o aplicativo de Pesquisa da Microsoft possa acessá-lo.</span><span class="sxs-lookup"><span data-stu-id="5f286-157">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access it.</span></span> <span data-ttu-id="5f286-158">Para saber mais, confira Criar um ponto de extremidade para que os clientes [acessem](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) a instância na documentação ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-158">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="5f286-159">A tabela a seguir fornece orientações sobre como preencher o formulário de criação do ponto de extremidade:</span><span class="sxs-lookup"><span data-stu-id="5f286-159">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="5f286-160">Campo</span><span class="sxs-lookup"><span data-stu-id="5f286-160">Field</span></span> | <span data-ttu-id="5f286-161">Descrição</span><span class="sxs-lookup"><span data-stu-id="5f286-161">Description</span></span> | <span data-ttu-id="5f286-162">Valor Recomendado</span><span class="sxs-lookup"><span data-stu-id="5f286-162">Recommended Value</span></span> 
--- | --- | ---
<span data-ttu-id="5f286-163">Nome</span><span class="sxs-lookup"><span data-stu-id="5f286-163">Name</span></span> | <span data-ttu-id="5f286-164">Valor exclusivo que identifica o aplicativo para o que você precisa de acesso OAuth.</span><span class="sxs-lookup"><span data-stu-id="5f286-164">Unique value that identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="5f286-165">Pesquisa da Microsoft</span><span class="sxs-lookup"><span data-stu-id="5f286-165">Microsoft Search</span></span>
<span data-ttu-id="5f286-166">ID do cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-166">Client ID</span></span> | <span data-ttu-id="5f286-167">Uma ID exclusiva gerada automaticamente somente leitura para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5f286-167">A read-only, auto generated unique ID for the application.</span></span> <span data-ttu-id="5f286-168">A instância usa a ID do cliente quando solicita um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="5f286-168">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="5f286-169">NA</span><span class="sxs-lookup"><span data-stu-id="5f286-169">NA</span></span>
<span data-ttu-id="5f286-170">Segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-170">Client secret</span></span> | <span data-ttu-id="5f286-171">Com essa cadeia de caracteres secreta compartilhada, a instância ServiceNow e a Pesquisa da Microsoft autorizam comunicações entre si.</span><span class="sxs-lookup"><span data-stu-id="5f286-171">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="5f286-172">Siga as práticas recomendadas de segurança tratando o segredo como uma senha.</span><span class="sxs-lookup"><span data-stu-id="5f286-172">Follow security best-practices by treating the secret as a password.</span></span>
<span data-ttu-id="5f286-173">URL de redirecionamento</span><span class="sxs-lookup"><span data-stu-id="5f286-173">Redirect URL</span></span> | <span data-ttu-id="5f286-174">Uma URL de retorno de chamada necessária para a que o servidor de autorização redireciona.</span><span class="sxs-lookup"><span data-stu-id="5f286-174">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="5f286-175">URL de logotipo</span><span class="sxs-lookup"><span data-stu-id="5f286-175">Logo URL</span></span> | <span data-ttu-id="5f286-176">Uma URL que contém a imagem do logotipo do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="5f286-176">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="5f286-177">NA</span><span class="sxs-lookup"><span data-stu-id="5f286-177">NA</span></span>
<span data-ttu-id="5f286-178">Ativo</span><span class="sxs-lookup"><span data-stu-id="5f286-178">Active</span></span> | <span data-ttu-id="5f286-179">Marque a caixa de seleção para tornar o registro do aplicativo ativo.</span><span class="sxs-lookup"><span data-stu-id="5f286-179">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="5f286-180">Definir como ativo</span><span class="sxs-lookup"><span data-stu-id="5f286-180">Set to active</span></span>
<span data-ttu-id="5f286-181">Atualizar tempo de vida útil do token</span><span class="sxs-lookup"><span data-stu-id="5f286-181">Refresh token lifespan</span></span> | <span data-ttu-id="5f286-182">O número de segundos em que um token de atualização é válido.</span><span class="sxs-lookup"><span data-stu-id="5f286-182">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="5f286-183">Por padrão, os tokens de atualização expiram em 100 dias (8.640.000 segundos).</span><span class="sxs-lookup"><span data-stu-id="5f286-183">By default, refresh tokens expire in 100 days (8,640,000 seconds).</span></span> | <span data-ttu-id="5f286-184">31.536.000 (1 ano)</span><span class="sxs-lookup"><span data-stu-id="5f286-184">31,536,000 (1 year)</span></span>
<span data-ttu-id="5f286-185">Tempo de vida útil do token de acesso</span><span class="sxs-lookup"><span data-stu-id="5f286-185">Access token lifespan</span></span> | <span data-ttu-id="5f286-186">O número de segundos em que um token de acesso é válido.</span><span class="sxs-lookup"><span data-stu-id="5f286-186">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="5f286-187">43.200 (12 horas)</span><span class="sxs-lookup"><span data-stu-id="5f286-187">43,200 (12 hours)</span></span>

<span data-ttu-id="5f286-188">Insira a ID do cliente e o segredo do cliente para se conectar à sua instância.</span><span class="sxs-lookup"><span data-stu-id="5f286-188">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="5f286-189">Depois de se conectar, use uma credencial de conta ServiceNow para autenticar a permissão para rastrear.</span><span class="sxs-lookup"><span data-stu-id="5f286-189">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="5f286-190">A conta deve ter pelo menos uma **função de** conhecimento.</span><span class="sxs-lookup"><span data-stu-id="5f286-190">The account should at least have **knowledge** role.</span></span> <span data-ttu-id="5f286-191">Consulte a tabela no início da etapa [3:](#step-3-connection-settings) configurações de conexão para fornecer acesso de leitura a mais registros de tabela ServiceNow e permissões de critérios de usuário de índice.</span><span class="sxs-lookup"><span data-stu-id="5f286-191">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

## <a name="step-33-azure-ad-openid-connect"></a><span data-ttu-id="5f286-192">Etapa 3.3: Azure AD OpenID Conexão</span><span class="sxs-lookup"><span data-stu-id="5f286-192">Step 3.3: Azure AD OpenID Connect</span></span>

<span data-ttu-id="5f286-193">Para usar o Azure AD OpenID Conexão autenticação, siga as etapas abaixo.</span><span class="sxs-lookup"><span data-stu-id="5f286-193">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

### <a name="step-331-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="5f286-194">Etapa 3.3.1: Registrar um novo aplicativo no Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="5f286-194">Step 3.3.1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="5f286-195">Para saber mais sobre como registrar um novo aplicativo no Azure Active Directory, consulte [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span><span class="sxs-lookup"><span data-stu-id="5f286-195">To learn about registering a new application in Azure Active Directory, see [Register an application](/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="5f286-196">Selecione diretório organizacional de locatário único.</span><span class="sxs-lookup"><span data-stu-id="5f286-196">Select single tenant organizational directory.</span></span> <span data-ttu-id="5f286-197">O URI de redirecionamento não é necessário.</span><span class="sxs-lookup"><span data-stu-id="5f286-197">Redirect URI isn't needed.</span></span> <span data-ttu-id="5f286-198">Após o registro, anote a ID do Aplicativo (cliente) e a ID de Diretório (locatário).</span><span class="sxs-lookup"><span data-stu-id="5f286-198">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

### <a name="step-332-create-a-client-secret"></a><span data-ttu-id="5f286-199">Etapa 3.3.2: Criar um segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-199">Step 3.3.2: Create a client secret</span></span>

<span data-ttu-id="5f286-200">Para saber mais sobre como criar um segredo do cliente, consulte [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span><span class="sxs-lookup"><span data-stu-id="5f286-200">To learn about creating a client secret, see [Creating a client secret](/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="5f286-201">Anote o segredo do cliente.</span><span class="sxs-lookup"><span data-stu-id="5f286-201">Take a note of client secret.</span></span>

### <a name="step-333-retrieve-service-principal-object-identifier"></a><span data-ttu-id="5f286-202">Etapa 3.3.3: Recuperar o Identificador de Objeto Principal do Serviço</span><span class="sxs-lookup"><span data-stu-id="5f286-202">Step 3.3.3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="5f286-203">Siga as etapas para recuperar o Identificador de Objeto Principal do Serviço</span><span class="sxs-lookup"><span data-stu-id="5f286-203">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="5f286-204">Execute o PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5f286-204">Run PowerShell.</span></span>

2. <span data-ttu-id="5f286-205">Instale Azure PowerShell usando o comando a seguir.</span><span class="sxs-lookup"><span data-stu-id="5f286-205">Install Azure PowerShell using the following command.</span></span>

   ```powershell
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
   ```

3. <span data-ttu-id="5f286-206">Conexão para o Azure.</span><span class="sxs-lookup"><span data-stu-id="5f286-206">Connect to Azure.</span></span>

   ```powershell
   Connect-AzAccount
   ```

4. <span data-ttu-id="5f286-207">Obter o Identificador de Objeto Principal do Serviço.</span><span class="sxs-lookup"><span data-stu-id="5f286-207">Get Service Principal Object Identifier.</span></span>

   ```powershell
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
   ```
   <span data-ttu-id="5f286-208">Substitua "ID de aplicativo" por ID de aplicativo (cliente) (sem aspas) do aplicativo registrado na etapa 3.a.</span><span class="sxs-lookup"><span data-stu-id="5f286-208">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 3.a.</span></span> <span data-ttu-id="5f286-209">Observe o valor do objeto ID da saída do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="5f286-209">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="5f286-210">É a ID da Entidade de Serviço.</span><span class="sxs-lookup"><span data-stu-id="5f286-210">It's the Service Principal ID.</span></span>

<span data-ttu-id="5f286-211">Agora você tem todas as informações necessárias do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="5f286-211">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="5f286-212">Um resumo rápido das informações é dado na tabela abaixo.</span><span class="sxs-lookup"><span data-stu-id="5f286-212">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="5f286-213">Propriedade</span><span class="sxs-lookup"><span data-stu-id="5f286-213">Property</span></span> | <span data-ttu-id="5f286-214">Descrição</span><span class="sxs-lookup"><span data-stu-id="5f286-214">Description</span></span> 
--- | ---
<span data-ttu-id="5f286-215">ID de diretório (ID do locatário)</span><span class="sxs-lookup"><span data-stu-id="5f286-215">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="5f286-216">ID exclusiva do locatário Azure Active Directory, a partir da etapa 3.a.</span><span class="sxs-lookup"><span data-stu-id="5f286-216">Unique ID of the Azure Active Directory tenant, from step 3.a.</span></span>
<span data-ttu-id="5f286-217">ID do aplicativo (ID do cliente)</span><span class="sxs-lookup"><span data-stu-id="5f286-217">Application ID (Client ID)</span></span> | <span data-ttu-id="5f286-218">ID exclusiva do aplicativo registrado na etapa 3.a.</span><span class="sxs-lookup"><span data-stu-id="5f286-218">Unique ID of the application registered in step 3.a.</span></span>
<span data-ttu-id="5f286-219">Segredo de Cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-219">Client Secret</span></span> | <span data-ttu-id="5f286-220">A chave secreta do aplicativo (da etapa 3.b).</span><span class="sxs-lookup"><span data-stu-id="5f286-220">The secret key of the application (from step 3.b).</span></span> <span data-ttu-id="5f286-221">Trate-o como uma senha.</span><span class="sxs-lookup"><span data-stu-id="5f286-221">Treat it like a password.</span></span>
<span data-ttu-id="5f286-222">ID da Entidade de Serviço</span><span class="sxs-lookup"><span data-stu-id="5f286-222">Service Principal ID</span></span> | <span data-ttu-id="5f286-223">Uma identidade para o aplicativo em execução como um serviço.</span><span class="sxs-lookup"><span data-stu-id="5f286-223">An identity for the application running as a service.</span></span> <span data-ttu-id="5f286-224">(da etapa 3.c)</span><span class="sxs-lookup"><span data-stu-id="5f286-224">(from step 3.c)</span></span>

### <a name="step-334-register-servicenow-application"></a><span data-ttu-id="5f286-225">Etapa 3.3.4: Registrar Aplicativo ServiceNow</span><span class="sxs-lookup"><span data-stu-id="5f286-225">Step 3.3.4: Register ServiceNow Application</span></span>

<span data-ttu-id="5f286-226">A instância ServiceNow precisa da seguinte configuração:</span><span class="sxs-lookup"><span data-stu-id="5f286-226">The ServiceNow instance needs the following configuration:</span></span>

1. <span data-ttu-id="5f286-227">Registre uma nova entidade OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="5f286-227">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="5f286-228">Para saber, confira [Criar um provedor OAuth OIDC](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span><span class="sxs-lookup"><span data-stu-id="5f286-228">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>

2. <span data-ttu-id="5f286-229">A tabela a seguir fornece orientações sobre como preencher o formulário de registro do provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="5f286-229">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

   <span data-ttu-id="5f286-230">Campo</span><span class="sxs-lookup"><span data-stu-id="5f286-230">Field</span></span> | <span data-ttu-id="5f286-231">Descrição</span><span class="sxs-lookup"><span data-stu-id="5f286-231">Description</span></span> | <span data-ttu-id="5f286-232">Valor Recomendado</span><span class="sxs-lookup"><span data-stu-id="5f286-232">Recommended Value</span></span>
   --- | --- | ---
   <span data-ttu-id="5f286-233">Nome</span><span class="sxs-lookup"><span data-stu-id="5f286-233">Name</span></span> | <span data-ttu-id="5f286-234">Um nome exclusivo que identifica a entidade OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="5f286-234">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="5f286-235">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="5f286-235">Azure AD</span></span>
   <span data-ttu-id="5f286-236">ID do cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-236">Client ID</span></span> | <span data-ttu-id="5f286-237">A ID do cliente do aplicativo registrado no servidor OAuth OIDC de terceiros.</span><span class="sxs-lookup"><span data-stu-id="5f286-237">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="5f286-238">A instância usa a ID do cliente ao solicitar um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="5f286-238">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="5f286-239">ID do aplicativo (cliente) da etapa 3.a</span><span class="sxs-lookup"><span data-stu-id="5f286-239">Application (Client) ID from step 3.a</span></span>
   <span data-ttu-id="5f286-240">Segredo de Cliente</span><span class="sxs-lookup"><span data-stu-id="5f286-240">Client Secret</span></span> | <span data-ttu-id="5f286-241">O segredo do cliente do aplicativo registrado no servidor OAuth OIDC de terceiros.</span><span class="sxs-lookup"><span data-stu-id="5f286-241">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="5f286-242">Segredo do Cliente da etapa 3.b</span><span class="sxs-lookup"><span data-stu-id="5f286-242">Client Secret from step 3.b</span></span>

   <span data-ttu-id="5f286-243">Todos os outros valores podem ser padrão.</span><span class="sxs-lookup"><span data-stu-id="5f286-243">All other values can be default.</span></span>

3. <span data-ttu-id="5f286-244">No formulário de registro do provedor OIDC, você precisa adicionar uma nova configuração de provedor OIDC.</span><span class="sxs-lookup"><span data-stu-id="5f286-244">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="5f286-245">Selecione o ícone de pesquisa no campo Configuração do Provedor *OAuth OIDC* para abrir os registros de configurações OIDC.</span><span class="sxs-lookup"><span data-stu-id="5f286-245">Select the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="5f286-246">Selecione Novo.</span><span class="sxs-lookup"><span data-stu-id="5f286-246">Select New.</span></span>

4. <span data-ttu-id="5f286-247">A tabela a seguir fornece orientações sobre como preencher o formulário de configuração do provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="5f286-247">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

   <span data-ttu-id="5f286-248">Campo</span><span class="sxs-lookup"><span data-stu-id="5f286-248">Field</span></span> | <span data-ttu-id="5f286-249">Valor Recomendado</span><span class="sxs-lookup"><span data-stu-id="5f286-249">Recommended Value</span></span>
   --- | ---
   <span data-ttu-id="5f286-250">Provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="5f286-250">OIDC Provider</span></span> |  <span data-ttu-id="5f286-251">Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="5f286-251">Azure AD</span></span>
   <span data-ttu-id="5f286-252">URL de metadados OIDC</span><span class="sxs-lookup"><span data-stu-id="5f286-252">OIDC Metadata URL</span></span> | <span data-ttu-id="5f286-253">A URL deve estar no formato https \: //login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span><span class="sxs-lookup"><span data-stu-id="5f286-253">The URL must be in the form https\://login.microsoftonline.com/<tenandId">/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="5f286-254">Substitua "tenantID" pela ID de Diretório (locatário) da etapa 3.a.</span><span class="sxs-lookup"><span data-stu-id="5f286-254">Replace "tenantID" with Directory (tenant) ID from step 3.a.</span></span>
   <span data-ttu-id="5f286-255">Período de vida útil do cache de configuração do OIDC</span><span class="sxs-lookup"><span data-stu-id="5f286-255">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="5f286-256">120</span><span class="sxs-lookup"><span data-stu-id="5f286-256">120</span></span>
   <span data-ttu-id="5f286-257">Aplicativo</span><span class="sxs-lookup"><span data-stu-id="5f286-257">Application</span></span> | <span data-ttu-id="5f286-258">Global</span><span class="sxs-lookup"><span data-stu-id="5f286-258">Global</span></span>
   <span data-ttu-id="5f286-259">Declaração de usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-259">User Claim</span></span> | <span data-ttu-id="5f286-260">sub</span><span class="sxs-lookup"><span data-stu-id="5f286-260">sub</span></span>
   <span data-ttu-id="5f286-261">Campo usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-261">User Field</span></span> | <span data-ttu-id="5f286-262">ID do Usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-262">User ID</span></span>
   <span data-ttu-id="5f286-263">Habilitar a verificação de declaração JTI</span><span class="sxs-lookup"><span data-stu-id="5f286-263">Enable JTI claim verification</span></span> | <span data-ttu-id="5f286-264">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="5f286-264">Disabled</span></span>

5. <span data-ttu-id="5f286-265">Selecione Enviar e Atualizar o formulário Entidade OAuth OIDC.</span><span class="sxs-lookup"><span data-stu-id="5f286-265">Select Submit and Update the OAuth OIDC Entity form.</span></span>

### <a name="step-335-create-a-servicenow-account"></a><span data-ttu-id="5f286-266">Etapa 3.3.5: Criar uma conta ServiceNow</span><span class="sxs-lookup"><span data-stu-id="5f286-266">Step 3.3.5: Create a ServiceNow account</span></span>

<span data-ttu-id="5f286-267">Consulte as instruções para criar uma conta ServiceNow, [criar um usuário em ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="5f286-267">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="5f286-268">A tabela a seguir fornece orientações sobre como preencher o registro da conta de usuário serviceNow</span><span class="sxs-lookup"><span data-stu-id="5f286-268">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="5f286-269">Campo</span><span class="sxs-lookup"><span data-stu-id="5f286-269">Field</span></span> | <span data-ttu-id="5f286-270">Valor Recomendado</span><span class="sxs-lookup"><span data-stu-id="5f286-270">Recommended Value</span></span>
--- | ---
<span data-ttu-id="5f286-271">ID do Usuário</span><span class="sxs-lookup"><span data-stu-id="5f286-271">User ID</span></span> | <span data-ttu-id="5f286-272">ID da Entidade de Serviço da etapa 3.c</span><span class="sxs-lookup"><span data-stu-id="5f286-272">Service Principal ID from step 3.c</span></span>
<span data-ttu-id="5f286-273">Somente acesso ao serviço Web</span><span class="sxs-lookup"><span data-stu-id="5f286-273">Web service access only</span></span> | <span data-ttu-id="5f286-274">Marcado</span><span class="sxs-lookup"><span data-stu-id="5f286-274">Checked</span></span>

<span data-ttu-id="5f286-275">Todos os outros valores podem ser deixados como padrão.</span><span class="sxs-lookup"><span data-stu-id="5f286-275">All other values can be left to default.</span></span>

### <a name="step-336-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="5f286-276">Etapa 3.3.6: Habilitar a função conhecimento para a conta ServiceNow</span><span class="sxs-lookup"><span data-stu-id="5f286-276">Step 3.3.6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="5f286-277">Acesse a conta ServiceNow criada com a ID principal do ServiceNow como ID de usuário e atribua a função de conhecimento.</span><span class="sxs-lookup"><span data-stu-id="5f286-277">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="5f286-278">As instruções para atribuir uma função a uma conta ServiceNow podem ser encontradas aqui, [atribuir uma função a um usuário](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="5f286-278">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span> <span data-ttu-id="5f286-279">Consulte a tabela no início da etapa [3:](#step-3-connection-settings) configurações de conexão para fornecer acesso de leitura a mais registros de tabela ServiceNow e permissões de critérios de usuário de índice.</span><span class="sxs-lookup"><span data-stu-id="5f286-279">Refer the table in the beginning of [step 3: connection settings](#step-3-connection-settings) for providing read access to more ServiceNow table records and index user criteria permissions.</span></span>

<span data-ttu-id="5f286-280">Use a ID do Aplicativo como ID do Cliente (da etapa 3.a) e o segredo do cliente (da etapa 3.b) no assistente de configuração do centro de administração para autenticar para sua instância serviceNow usando o Azure AD OpenID Conexão.</span><span class="sxs-lookup"><span data-stu-id="5f286-280">Use Application ID as Client ID (from step 3.a), and Client secret (from step 3.b) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="step-4-select-properties-and-filter-data"></a><span data-ttu-id="5f286-281">Etapa 4: selecionar propriedades e filtrar dados</span><span class="sxs-lookup"><span data-stu-id="5f286-281">Step 4: Select properties and filter data</span></span>

<span data-ttu-id="5f286-282">Nesta etapa, você pode adicionar ou remover propriedades disponíveis da fonte de dados ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-282">In this step, you can add or remove available properties from your ServiceNow data source.</span></span> <span data-ttu-id="5f286-283">Microsoft 365 já selecionou algumas propriedades por padrão.</span><span class="sxs-lookup"><span data-stu-id="5f286-283">Microsoft 365 has already selected few properties by default.</span></span>

<span data-ttu-id="5f286-284">Com uma cadeia de caracteres de consulta ServiceNow, você pode especificar condições para sincronizar artigos.</span><span class="sxs-lookup"><span data-stu-id="5f286-284">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="5f286-285">É como uma cláusula **Where** em uma **instrução SQL Select.**</span><span class="sxs-lookup"><span data-stu-id="5f286-285">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="5f286-286">Por exemplo, você pode optar por indexar somente artigos publicados e ativos.</span><span class="sxs-lookup"><span data-stu-id="5f286-286">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="5f286-287">Para saber mais sobre como criar sua própria cadeia de caracteres de consulta, consulte Gerar uma cadeia de caracteres de [consulta codificada usando um filtro](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span><span class="sxs-lookup"><span data-stu-id="5f286-287">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

<span data-ttu-id="5f286-288">Use o botão de resultados de visualização para verificar os valores de exemplo das propriedades selecionadas e o filtro de consulta.</span><span class="sxs-lookup"><span data-stu-id="5f286-288">Use the preview results button to verify the sample values of the selected properties and query filter.</span></span>

## <a name="step-5-manage-search-permissions"></a><span data-ttu-id="5f286-289">Etapa 5: Gerenciar permissões de pesquisa</span><span class="sxs-lookup"><span data-stu-id="5f286-289">Step 5: Manage search permissions</span></span>

<span data-ttu-id="5f286-290">O conector ServiceNow dá suporte a permissões de pesquisa visíveis para **todos** ou somente pessoas **com acesso a essa fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="5f286-290">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="5f286-291">Os dados indexados aparecem nos resultados da pesquisa e são visíveis para todos os usuários na organização ou usuários que têm acesso a eles por meio da permissão de critérios do usuário, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="5f286-291">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them via user criteria permission respectively.</span></span> <span data-ttu-id="5f286-292">Se um artigo de conhecimento não estiver habilitado com critérios de usuário, ele aparecerá nos resultados de pesquisa de todos na organização.</span><span class="sxs-lookup"><span data-stu-id="5f286-292">If a knowledge article is not enabled with a user criteria, it will appear in search results of everyone in the organization.</span></span>

<span data-ttu-id="5f286-293">ServiceNow Graph Connector oferece suporte a permissões de critérios de usuário padrão sem scripts avançados.</span><span class="sxs-lookup"><span data-stu-id="5f286-293">ServiceNow Graph Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="5f286-294">Quando o conector encontra um critério de usuário com script avançado, todos os dados que usam esses critérios de usuário não aparecerão nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f286-294">When the connector encounters a user criteria with advanced script, all data using that user criteria will not appear in search results.</span></span>

>[!NOTE]
><span data-ttu-id="5f286-295">Para escolher Somente pessoas com acesso a essa fonte **de dados,** habilita as atualizações de versão direcionadas em seu locatário.</span><span class="sxs-lookup"><span data-stu-id="5f286-295">To choose **Only people with access to this data source**, enable targeted release updates on your tenant.</span></span> <span data-ttu-id="5f286-296">Para saber mais sobre como configurar a versão direcionada, consulte [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span><span class="sxs-lookup"><span data-stu-id="5f286-296">To learn about setting up targeted release, see [Setup Targeted release options.](/microsoft-365/admin/manage/release-options-in-office-365?preserve-view=true&view=o365-worldwide)</span></span>

<span data-ttu-id="5f286-297">Se você escolher **Somente** pessoas com acesso a essa fonte de dados, você precisará escolher se sua instância serviceNow tem usuários Azure Active Directory (AAD) provisionados ou usuários não AAD.</span><span class="sxs-lookup"><span data-stu-id="5f286-297">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="5f286-298">Se você escolher a AAD como o tipo de fonte de identidade, certifique-se de estar atribuindo a propriedade de origem UserPrincipalName (UPN) à propriedade de email direcionada ao ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-298">If you choose AAD as the type of identity source, make sure you are assigning UserPrincipalName (UPN) source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="5f286-299">Para verificar ou alterar seus mapeamentos, consulte Personalização de mapeamentos de atributos de provisionamento do usuário para [aplicativos SaaS em Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="5f286-299">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="5f286-300">Se você tiver escolhido "não-AAD" para o tipo de identidade, consulte Mapear suas Identidades não [Azure AD](map-non-aad.md) para obter instruções sobre como mapear as identidades.</span><span class="sxs-lookup"><span data-stu-id="5f286-300">If you have elected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span> 

<span data-ttu-id="5f286-301">Você também pode consultar o vídeo a seguir para saber mais sobre como gerenciar permissões de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f286-301">You can also refer the following video to learn more about managing search permissions.</span></span>

<span data-ttu-id="5f286-302">[![Gerenciando permissões de pesquisa no Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span><span class="sxs-lookup"><span data-stu-id="5f286-302">[![Managing Search Permissions in Microsoft Graph Connector for ServiceNow](https://img.youtube.com/vi/TVSkJpk1RiE/hqdefault.jpg)](https://www.youtube.com/watch?v=TVSkJpk1RiE)</span></span>

## <a name="step-6-assign-property-labels"></a><span data-ttu-id="5f286-303">Etapa 6: Atribuir rótulos de propriedade</span><span class="sxs-lookup"><span data-stu-id="5f286-303">Step 6: Assign property labels</span></span>

<span data-ttu-id="5f286-304">Siga as instruções gerais de instalação.</span><span class="sxs-lookup"><span data-stu-id="5f286-304">Follow the general setup instructions.</span></span>

## <a name="step-7-manage-schema"></a><span data-ttu-id="5f286-305">Etapa 7: Gerenciar esquema</span><span class="sxs-lookup"><span data-stu-id="5f286-305">Step 7: Manage schema</span></span>

<span data-ttu-id="5f286-306">Siga as instruções gerais de instalação.</span><span class="sxs-lookup"><span data-stu-id="5f286-306">Follow the general setup instructions.</span></span>

## <a name="step-8-choose-refresh-settings"></a><span data-ttu-id="5f286-307">Etapa 8: Escolher configurações de atualização</span><span class="sxs-lookup"><span data-stu-id="5f286-307">Step 8: Choose refresh settings</span></span>

<span data-ttu-id="5f286-308">Siga as instruções gerais de instalação.</span><span class="sxs-lookup"><span data-stu-id="5f286-308">Follow the general setup instructions.</span></span>

>[!NOTE]
><span data-ttu-id="5f286-309">Para identidades, somente o rastreamento completo agendado será aplicado.</span><span class="sxs-lookup"><span data-stu-id="5f286-309">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="step-9-review-connection"></a><span data-ttu-id="5f286-310">Etapa 9: Analisar Conexão</span><span class="sxs-lookup"><span data-stu-id="5f286-310">Step 9: Review Connection</span></span>

<span data-ttu-id="5f286-311">Siga as instruções [gerais de instalação](./configure-connector.md).</span><span class="sxs-lookup"><span data-stu-id="5f286-311">Follow the general [setup instructions](./configure-connector.md).</span></span>

<span data-ttu-id="5f286-312">O Graph serviceNow tem as seguintes limitações em sua versão mais recente:</span><span class="sxs-lookup"><span data-stu-id="5f286-312">ServiceNow Graph connector has the following limitations in its latest release:</span></span>

<span data-ttu-id="5f286-313">Depois de publicar a conexão, você precisa personalizar a página de resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f286-313">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="5f286-314">Para saber mais sobre como personalizar resultados de pesquisa, consulte [Personalizar a página de resultados da pesquisa](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="5f286-314">To learn about customizing search results, see [Customize the search results page](/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>

## <a name="limitations"></a><span data-ttu-id="5f286-315">Limitações</span><span class="sxs-lookup"><span data-stu-id="5f286-315">Limitations</span></span>
<span data-ttu-id="5f286-316">O Graph serviceNow tem as seguintes limitações em sua versão mais recente:</span><span class="sxs-lookup"><span data-stu-id="5f286-316">ServiceNow Graph connector has the following limitations in its latest release:</span></span>
- <span data-ttu-id="5f286-317">Indexar artigos de conhecimento disponíveis para todos em uma organização é um recurso geralmente disponível.</span><span class="sxs-lookup"><span data-stu-id="5f286-317">Indexing knowledge articles available to everyone in an organization is a generally available feature.</span></span>
- <span data-ttu-id="5f286-318">*Somente as pessoas com acesso a esse* recurso de fonte de dados na etapa Gerenciar permissões de Pesquisa estão no canal de lançamento direcionado e processam apenas as permissões de [critérios do](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) usuário.</span><span class="sxs-lookup"><span data-stu-id="5f286-318">*Only people with access to this data source* feature under Manage Search permissions step is in targeted release channel and processes only [user criteria](https://hi.service-now.com/kb_view.do?sysparm_article=KB0550924) permissions.</span></span> <span data-ttu-id="5f286-319">Qualquer outro tipo de permissão de acesso não será aplicado nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="5f286-319">Any other type of access permissions will not be applied in the search results.</span></span>
- <span data-ttu-id="5f286-320">Os critérios do usuário com scripts avançados não são suportados na versão atual.</span><span class="sxs-lookup"><span data-stu-id="5f286-320">User criteria with advanced scripts are not supported in the current version.</span></span> <span data-ttu-id="5f286-321">Qualquer artigo de conhecimento com essa restrição de acesso será indexado com negação de acesso a todos, ou seja, eles não aparecerão nos resultados da pesquisa para qualquer usuário até que nós os suportemos.</span><span class="sxs-lookup"><span data-stu-id="5f286-321">Any knowledge articles with such an access restriction will be indexed with deny everyone access i.e. they will not appear in search results to any user until we support them.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="5f286-322">Solução de problemas</span><span class="sxs-lookup"><span data-stu-id="5f286-322">Troubleshooting</span></span>
<span data-ttu-id="5f286-323">Depois de publicar sua conexão, personalização da página de resultados, você pode revisar o status na guia **Fontes** de Dados no centro [de administração](https://admin.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="5f286-323">After publishing your connection, customizing the results page, you can review the status under the **Data Sources** tab in the [admin center](https://admin.microsoft.com).</span></span> <span data-ttu-id="5f286-324">Para saber como fazer atualizações e exclusões, consulte [Manage your connector](manage-connector.md).</span><span class="sxs-lookup"><span data-stu-id="5f286-324">To learn how to make updates and deletions, see [Manage your connector](manage-connector.md).</span></span>
<span data-ttu-id="5f286-325">Você pode encontrar etapas de solução de problemas para problemas comumente vistos abaixo.</span><span class="sxs-lookup"><span data-stu-id="5f286-325">You can find troubleshooting steps for commonly seen issues below.</span></span>
### <a name="1-unable-to-login-due-to-single-sign-on-enabled-servicenow-instance"></a><span data-ttu-id="5f286-326">1. Não é possível fazer logon devido Sign-On serviceNow habilitada</span><span class="sxs-lookup"><span data-stu-id="5f286-326">1. Unable to login due to Single Sign-On enabled ServiceNow instance</span></span>

<span data-ttu-id="5f286-327">Se a sua organização habilitar o SSO (Single Sign-On) para ServiceNow, talvez você tenha problemas para entrar com a conta de serviço.</span><span class="sxs-lookup"><span data-stu-id="5f286-327">If your organization has enabled Single Sign-On (SSO) to ServiceNow, you may have trouble logging in with the service account.</span></span> <span data-ttu-id="5f286-328">Você pode trazer o logon <em> `login.do` </em> baseado em nome de usuário e senha adicionando à URL da instância serviceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-328">You can bring up username and password based login by adding <em> `login.do`</em> to the ServiceNow instance URL.</span></span> <span data-ttu-id="5f286-329">Exemplo.</span><span class="sxs-lookup"><span data-stu-id="5f286-329">Example.</span></span> `https://<your-organization-domain>.service-now.com./login.do` 

### <a name="2-unauthorized-or-forbidden-response-to-api-request"></a><span data-ttu-id="5f286-330">2. Resposta não autorizada ou proibida à solicitação de API</span><span class="sxs-lookup"><span data-stu-id="5f286-330">2. Unauthorized or forbidden response to API request</span></span>

#### <a name="21-check-table-access-permissions"></a><span data-ttu-id="5f286-331">2.1.</span><span class="sxs-lookup"><span data-stu-id="5f286-331">2.1.</span></span> <span data-ttu-id="5f286-332">Verificar permissões de acesso à tabela</span><span class="sxs-lookup"><span data-stu-id="5f286-332">Check table access permissions</span></span>
<span data-ttu-id="5f286-333">Se você vir resposta proibida ou não autorizada no status da conexão, verifique se a conta de serviço exigiu acesso às [tabelas mencionadas](#step-3-connection-settings)na etapa 3: configurações de conexão .</span><span class="sxs-lookup"><span data-stu-id="5f286-333">If you see forbidden or unauthorized response in connection status, check if the service account has required access to the tables mentioned in [step 3: connection settings](#step-3-connection-settings).</span></span> <span data-ttu-id="5f286-334">Verifique se todas as colunas nas tabelas têm acesso de leitura.</span><span class="sxs-lookup"><span data-stu-id="5f286-334">Please check whether all the columns in the tables have read access.</span></span>

#### <a name="22-check-if-servicenow-instance-behind-firewall"></a><span data-ttu-id="5f286-335">2.2.</span><span class="sxs-lookup"><span data-stu-id="5f286-335">2.2.</span></span> <span data-ttu-id="5f286-336">Verificar se a instância serviceNow está atrás do firewall</span><span class="sxs-lookup"><span data-stu-id="5f286-336">Check if ServiceNow instance behind firewall</span></span>
<span data-ttu-id="5f286-337">Graph O conector pode não conseguir alcançar sua instância serviceNow se estiver atrás de um firewall de rede.</span><span class="sxs-lookup"><span data-stu-id="5f286-337">Graph Connector may not be able to reach your ServiceNow instance if it is behind a network firewall.</span></span> <span data-ttu-id="5f286-338">Você precisará permitir explicitamente o acesso ao serviço Graph Connector.</span><span class="sxs-lookup"><span data-stu-id="5f286-338">You will need explicitly allow access to Graph Connector service.</span></span> <span data-ttu-id="5f286-339">Você pode encontrar o intervalo de endereços IP públicos Graph Connector Service na tabela abaixo.</span><span class="sxs-lookup"><span data-stu-id="5f286-339">You can find public IP address range of Graph Connector Service in the table below.</span></span> <span data-ttu-id="5f286-340">Com base em sua região de locatário, adicione-o à sua lista branca de rede de instâncias do ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="5f286-340">Based on your tenant region, add it to your ServiceNow instance network whitelist.</span></span>

<span data-ttu-id="5f286-341">**Ambiente**</span><span class="sxs-lookup"><span data-stu-id="5f286-341">**Environment**</span></span> | <span data-ttu-id="5f286-342">**Região**</span><span class="sxs-lookup"><span data-stu-id="5f286-342">**Region**</span></span> | <span data-ttu-id="5f286-343">**Range**</span><span class="sxs-lookup"><span data-stu-id="5f286-343">**Range**</span></span>
--- | --- | ---
<span data-ttu-id="5f286-344">PROD</span><span class="sxs-lookup"><span data-stu-id="5f286-344">PROD</span></span> | <span data-ttu-id="5f286-345">América do Norte</span><span class="sxs-lookup"><span data-stu-id="5f286-345">North America</span></span> | <span data-ttu-id="5f286-346">52.250.92.252/30, 52.224.250.216/30</span><span class="sxs-lookup"><span data-stu-id="5f286-346">52.250.92.252/30, 52.224.250.216/30</span></span>
<span data-ttu-id="5f286-347">PROD</span><span class="sxs-lookup"><span data-stu-id="5f286-347">PROD</span></span> | <span data-ttu-id="5f286-348">Europa</span><span class="sxs-lookup"><span data-stu-id="5f286-348">Europe</span></span> | <span data-ttu-id="5f286-349">20.54.41.208/30, 51.105.159.88/30</span><span class="sxs-lookup"><span data-stu-id="5f286-349">20.54.41.208/30, 51.105.159.88/30</span></span> 
<span data-ttu-id="5f286-350">PROD</span><span class="sxs-lookup"><span data-stu-id="5f286-350">PROD</span></span> | <span data-ttu-id="5f286-351">Pacífico Asiático</span><span class="sxs-lookup"><span data-stu-id="5f286-351">Asia Pacific</span></span> | <span data-ttu-id="5f286-352">52.139.188.212/30, 20.43.146.44/30</span><span class="sxs-lookup"><span data-stu-id="5f286-352">52.139.188.212/30, 20.43.146.44/30</span></span> 


<span data-ttu-id="5f286-353">Se você tiver outros problemas ou quiser fornecer comentários, escreva para nós [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span><span class="sxs-lookup"><span data-stu-id="5f286-353">If you have any other issues or want to provide feedback, write to us [aka.ms/TalkToGraphConnectors](https://aka.ms/TalkToGraphConnectors)</span></span>
